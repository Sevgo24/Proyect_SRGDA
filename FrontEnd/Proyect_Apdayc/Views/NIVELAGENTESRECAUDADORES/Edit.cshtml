@model SGRDA.Entities.BEREC_COLL_LEVEL

@{
    ViewBag.Title = "Edit";
}

<link href="@Url.Content("~/Content/bootstrap/css/bootstrap.css")" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/js/jquery.min.js")"></script>
<link href="@Url.Content("~/Style/Style.css")" rel="stylesheet" />

<style type="text/css">
    textarea {
        resize: none;
    }
</style>

<script>
    $(function () {
        var url;
        url = $(this).attr("href");

        $(".alert-link").hide();
        $("#message").hide();

        $("#nombre").hide();
        $("#std").hide();
        $("#descripcion").attr("disabled", "enabled");
        $("#btnSave").hide();
        $("#btncancel").hide();

        $("#btnedit").click(function () {
            $("#btnSave").show();
            $("#btncancel").show();
            $("#btnnuevo").hide();
            $("#dnombre").hide();
            $("#dstd").hide();

            $("#nombre").show();
            $("#std").show();

            $("#descripcion").removeAttr('disabled');
            $("#btnedit").hide();
        })

        $("#btncancel").click(function () {
            $("#btnSave").hide();
            $("#btnnuevo").show();
            $("#dnombre").show();
            $("#dstd").show();

            $("#nombre").hide();
            $("#std").hide();

            $("#descripcion").attr("disabled", "enabled");
            $("#btnedit").show();
            $("#btncancel").hide();

            location.reload();
        })
    });
</script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    
    <fieldset>
        <legend id="legend">@Html.ActionLink("NIVELAGENTESRECAUDADORES", "Index", new { }, new { style = "text-decoration:none;" }) / <span>@Html.DisplayFor(model => model.DESCRIPTION) </span></legend>
        <div class="popUp-content">
            <br />
            <div>
                <a href="@Url.Action("Create", "NIVELAGENTESRECAUDADORES")" id="btnnuevo" class="btn btn-success">Nuevo</a>
                <button id="btnSave" class="btn btn-success">Guardar</button>
                <a href="#" id="btncancel" class="btn btn-success">Descartar</a>
                <a href="#" id="btnedit" class="btn btn-success">Editar</a>
            </div>
            <br />

            @*<div class="editor-label">
                @Html.LabelFor(model => model.OWNER)<br />
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.OWNER, htmlAttributes: new { id = "OWNER" })
                @Html.ValidationMessageFor(model => model.OWNER)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.LEVEL_ID)<br />
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.LEVEL_ID, htmlAttributes: new { id = "LEVEL_ID" })
                @Html.ValidationMessageFor(model => model.LEVEL_ID)
            </div>*@

            <div class="editor-field">
                @Html.HiddenFor(model => model.OWNER, htmlAttributes: new { id = "OWNER" })
            </div>

            <div class="editor-field">
                @Html.HiddenFor(model => model.LEVEL_ID, htmlAttributes: new { id = "LEVEL_ID" })
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.NMR_ID)<br />
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.NMR_ID, htmlAttributes: new { id = "NMR_ID", disabled = "disabled" })
                @Html.ValidationMessageFor(model => model.NMR_ID)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.DESCRIPTION)<br />
            </div>
            <div class="editor-field">
                @Html.TextAreaFor(model => model.DESCRIPTION, htmlAttributes: new { id = "DESCRIPTION", disabled = "disabled", TextMode = System.Web.UI.WebControls.TextBoxMode.MultiLine, cols = "30", rows = "2" })
                @Html.ValidationMessageFor(model => model.DESCRIPTION)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.LEVEL_DEP)<br />
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(model => model.LEVEL_DEP, htmlAttributes: new { id = "LEVEL_DEP", disabled = "disabled" })
                @Html.ValidationMessageFor(model => model.LEVEL_DEP)
            </div>
            <br />
        </div>
    </fieldset>
}

<script>
    $("#btnedit").click(function () {
        //document.getElementById("LEVEL_ID").disabled = false;
        document.getElementById("NMR_ID").disabled = false;
        document.getElementById("DESCRIPTION").disabled = false;
        document.getElementById("LEVEL_DEP").disabled = false;
    })
</script>

<script>
    $("#btncancel").click(function () {
        //document.getElementById("LEVEL_ID").disabled = true;
        document.getElementById("NMR_ID").disabled = true;
        document.getElementById("DESCRIPTION").disabled = true;
        document.getElementById("LEVEL_DEP").disabled = true;
    })
</script>

<script type="text/ecmascript">
    if ('@TempData["msg"]' != "") {
        $(function () {
            $("#message").show();
            $(".alert-link").show();
        })
    };
</script>

<br />
<div id="message">
    <div class="@TempData["class"]">
        <a id="lnk" href="#" class="alert-link">OK! </a>@TempData["msg"]
    </div>
</div>

